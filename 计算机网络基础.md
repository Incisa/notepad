# 计算机网络基础



* 每台接入互联网的电脑都有一个 IP 地址
  * ipv4 地址严重不够用
  * 局域网pc通过NAT协议来连接互联网
* 访问一个网站，其实就是在与互联网上的另一台计算机通信
* 而通信肯定需要知道那台电脑的具体 IP 地址，就像打电话需要知道那个人的电话号码一样
* 然而，我们访问  的时候，并没有告诉浏览器 Google 的服务器的 IP 地址
* 那浏览器是如何知道的呢？
* 很明显，这个 IP 地址信息隐藏在了上面的网址里面
* 域名(Domain Name)，就像手机里的电话本
* IP 地址，          就像某条通信录的电话
* 那么上面网上的哪一部分隐藏了服务器的 IP 地址呢？？？
* 很明显，是 www.google.com 这一部分
* 这个部分叫做 “域名”
* 那计算机（浏览器）如何得到这个域名所代表的 ip 地址呢？
* 以及，为什么要有域名呢？
  * ip 地址很明显比较难记，而且也没有太明显的具体意义
  * 所以给 ip 地址起个名字就显得有必要了
  * 而这个名字就叫做域名：Domain Name
* 所以，一个域名就代表了一个 ip，而后代表了一台接入互联网的计算机
* 几个特殊的 IP 地址：127.0.0.1 总是代表当前计算机
* 计算机通过 DNS 服务（Domain Name Service）来得到一个域名所对应的 ip 地址
* DNS 服务器需要预先配置在电脑里
  * 提问：那 DNS 服务器的地址我们需要以域名的形式给出还是以 ip 地址的形式告诉计算机呢？
  * 很明显，是以 IP 的形式告知
* 两台计算机之间通信，理所当然需要使用一个双方都明白的 “协议”，就像你去邮局写信，需要按照指定的格式把必要的信息写在信封一样
  * 再比如：莫斯电码
  * 再比如：人类之间沟通的语言
  * 所以协议是就通信双方都明白它是什么意思的一组规则
* 因为很显然，通过电线，只能传输电信号，每一个电信号代表什么意思就成了至关重要的事情了
  * 电线可以传输高电位与低电位，就可以用这两种状态分别代表 0 和 1，就是二进制
  * 于是，世界形成了。
* 一般来说，一个协议往往是基于其它协议的
  * 就像，快递的协议是基于火车信号的协议的
    * 因为，如果没有火车信号的协议，铁路就没办法运行
    * 于是快递也就没办法发了
* 数据保证发送成功肯定是需要一个反馈的
  * 这叫反馈叫做ACK（即确认字符，在数据通信中，接收站发给发送站的一种传输类控制字符。表示发来的数据已确认接收无误）
* 互联网最重要的协议是 TCP（很遗憾不是 HTTP，不过 HTTP 是使用最广泛的协议）：Transmition Control Protocol（传输控制协议）
* TCP 协议把两台计算机的通信抽象成了一组很简单的接口（函数）
  * send(ip, content)
  * content = read()
* 两台计算机之间建立起了 TCP 连接后就像有一个管道连接在两台计算机之间
  * 两台计算机
* 事实上并不是两台计算机在通信，而是两台计算机上的程序在通信
* 理所当然，一台计算机上可以运行多个正在与其它计算机通信的程序
  * 如：QQ，迅雷，浏览器
* 不同的程序在把数据发送出去之后都通过同一根电线经过的，那如何标识这份数据是哪个程序发出的呢？
* 理所当然，必然需要一个 flag 来标识数据是由谁发出去的，就像小区的每家都会有一个信箱一样
* 这个 flag 就叫做端口：port
* 端口一个整数，从 0 到 65535
* 一个端口只能被一个程序占用，但每个程序可以占用多个端口（这是很显然的，因为迅雷可以同时下载多个文件）
* 实例：使用node写一个tcp server & client
